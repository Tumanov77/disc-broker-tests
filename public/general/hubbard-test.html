<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç 5 - –¢–æ–Ω–∞–ª—å–Ω–∞—è —à–∫–∞–ª–∞ –•–∞–±–±–∞—Ä–¥–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header .subtitle {
            font-size: 1.1em;
            opacity: 0.9;
            margin-bottom: 15px;
        }

        .header .description {
            font-size: 0.95em;
            opacity: 0.8;
            line-height: 1.5;
        }

        .form-section {
            padding: 30px;
        }

        .instructions {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 4px solid #667eea;
        }

        .instructions h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .instructions p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .instructions .highlight {
            color: #667eea;
            font-weight: 600;
        }

        .question-block {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .question-block:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.1);
        }

        .question-block h3 {
            color: #333;
            font-size: 1.2em;
            margin-bottom: 20px;
            line-height: 1.4;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .radio-group label {
            display: flex;
            align-items: flex-start;
            padding: 15px;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
        }

        .radio-group label:hover {
            border-color: #667eea;
            background: #f8f9fa;
        }

        .radio-group input[type="radio"] {
            margin-right: 15px;
            margin-top: 2px;
            transform: scale(1.2);
        }

        .radio-group input[type="radio"]:checked + span {
            color: #667eea;
            font-weight: 600;
        }

        .radio-group label:has(input:checked) {
            border-color: #667eea;
            background: #f0f4ff;
        }


        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-group input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .submit-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 20px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .success-message, .error-message {
            display: none;
            text-align: center;
            padding: 40px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .form-section {
                padding: 20px;
            }
            
            .question-block {
                padding: 20px;
            }
        }
        
        .update-timestamp {
            position: fixed;
            bottom: 10px;
            right: 10px;
            color: white;
            font-size: 12px;
            background-color: rgba(0, 0, 0, 0.5);
            padding: 5px 10px;
            border-radius: 5px;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìà –¢–µ—Å—Ç 2</h1>
            <div class="subtitle">–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
            <div class="description">
                –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è –∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
            </div>
        </div>

        <div class="form-section">
            <form id="hubbardForm">
                <!-- Personal Info -->
                <div class="form-group">
                    <h3></h3>
                    <div style="margin-bottom: 15px;">
                        <label for="name">–ò–º—è *</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div>
                        <label for="telegram">–¢–µ–ª–µ–≥—Ä–∞–º –Ω–∏–∫ *</label>
                        <input type="text" id="telegram" name="telegram" required placeholder="@username">
                    </div>
                </div>

                <!-- Instructions -->
                <div class="instructions">
        <div class="user-info" id="userInfo" style="display: none;">
            <div class="user-data">
                <span id="userName"></span> (<span id="userTelegram"></span>)
            </div>
            <button class="logout-btn" onclick="logout()">–í—ã–π—Ç–∏</button>
        </div>
        <style>
        .user-info { display: flex; justify-content: space-between; align-items: center; background: #f8f9fa; padding: 15px 20px; border-radius: 10px; margin-bottom: 20px; }
        .user-data { color: #333; font-weight: 500; }
        .logout-btn { background: #dc3545; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 0.9em; transition: background 0.3s ease; }
        .logout-btn:hover { background: #c82333; }
        </style>                    <h3>üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</h3>
                    <p><span class="highlight">–¶–µ–ª—å:</span> –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è –∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞</p>
                    <p><span class="highlight">–í—Ä–µ–º—è:</span> 7-10 –º–∏–Ω—É—Ç</p>
                    <p><span class="highlight">–í–∞–∂–Ω–æ:</span> –û—Ç–≤–µ—á–∞–π—Ç–µ —á–µ—Å—Ç–Ω–æ, –∫–∞–∫ —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –≤ –æ–±—ã—á–Ω–æ–π –∂–∏–∑–Ω–∏</p>
                </div>

                <!-- Question 1 -->
                <div class="question-block">
                    <h3>1. –ö–æ–≥–¥–∞ –≤—ã —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç–µ—Å—å —Å —Ç—Ä—É–¥–Ω–æ–π –∑–∞–¥–∞—á–µ–π, –≤—ã —á–∞—â–µ –≤—Å–µ–≥–æ...</h3>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="q1" value="4.0" required>
                            <span>–ë–µ—Ä—É—Å—å —Å –∏–Ω—Ç–µ—Ä–µ—Å–æ–º –∏ –∞–∑–∞—Ä—Ç–æ–º</span>
                        </label>
                        <label>
                            <input type="radio" name="q1" value="3.3" required>
                            <span>–ü–æ–¥—Ö–æ–∂—É —Å–ø–æ–∫–æ–π–Ω–æ, –Ω–æ —É–≤–µ—Ä–µ–Ω–Ω–æ</span>
                        </label>
                        <label>
                            <input type="radio" name="q1" value="1.1" required>
                            <span>–î—É–º–∞—é, —á—Ç–æ "–æ–ø—è—Ç—å –Ω–∞–≥—Ä—É–∑–∏–ª–∏" <span class="tone-score">(–°–∫—Ä—ã—Ç–∞—è –≤—Ä–∞–∂–¥–µ–±–Ω–æ—Å—Ç—å ‚Äî 1.1)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q1" value="1.0" required>
                            <span>–ü—É–≥–∞—é—Å—å –∏ –ø—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∏—Ä—É—é <span class="tone-score">(–°—Ç—Ä–∞—Ö ‚Äî 1.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q1" value="0.5" required>
                            <span>–î—É–º–∞—é, —á—Ç–æ –≤—Å—ë –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω–æ <span class="tone-score">(–ê–ø–∞—Ç–∏—è ‚Äî 0.5)</span></span>
                        </label>
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="question-block">
                    <h3>2. –ö–∞–∫ –≤—ã —Ä–µ–∞–≥–∏—Ä—É–µ—Ç–µ –Ω–∞ —Ä–µ–∑–∫—É—é –∫—Ä–∏—Ç–∏–∫—É –≤ —Å–≤–æ–π –∞–¥—Ä–µ—Å?</h3>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="q2" value="3.8" required>
                            <span>–ë–ª–∞–≥–æ–¥–∞—Ä—é, –µ—Å–ª–∏ –ø–æ –¥–µ–ª—É <span class="tone-score">(–≠–Ω—Ç—É–∑–∏–∞–∑–º ‚Äî 3.8)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q2" value="3.0" required>
                            <span>–í–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é —Å–ø–æ–∫–æ–π–Ω–æ <span class="tone-score">(–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–∑–º ‚Äî 3.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q2" value="1.5" required>
                            <span>–û–±–∏–∂–∞—é—Å—å –∏ –∑–∞–º—ã–∫–∞—é—Å—å <span class="tone-score">(–°–∫—Ä—ã—Ç–∞—è –≤—Ä–∞–∂–¥–µ–±–Ω–æ—Å—Ç—å ‚Äî 1.5)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q2" value="1.5" required>
                            <span>–ó–∞—â–∏—â–∞—é—Å—å –∏ –∑–ª—é—Å—å <span class="tone-score">(–ì–Ω–µ–≤ ‚Äî 1.5)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q2" value="0.5" required>
                            <span>–ü—Ä–æ—Å—Ç–æ —Ö–æ—á—É –∏—Å—á–µ–∑–Ω—É—Ç—å <span class="tone-score">(–ê–ø–∞—Ç–∏—è ‚Äî 0.5)</span></span>
                        </label>
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="question-block">
                    <h3>3. –ö–æ–≥–¥–∞ –≤—ã –¥–æ–±–∏–≤–∞–µ—Ç–µ—Å—å —É—Å–ø–µ—Ö–∞, –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ...</h3>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="q3" value="4.0" required>
                            <span>–≠–Ω–µ—Ä–≥–∏—é –∏ —Ä–∞–¥–æ—Å—Ç—å, —Ö–æ—á–µ—Ç—Å—è –¥–µ–ª–∏—Ç—å—Å—è <span class="tone-score">(–≠–Ω—Ç—É–∑–∏–∞–∑–º ‚Äî 4.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q3" value="3.3" required>
                            <span>–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏–µ –∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ <span class="tone-score">(–°–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–µ—Å ‚Äî 3.3)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q3" value="1.0" required>
                            <span>–°—Ç—Ä–∞—Ö, —á—Ç–æ —ç—Ç–æ –Ω–µ–Ω–∞–¥–æ–ª–≥–æ <span class="tone-score">(–°—Ç—Ä–∞—Ö ‚Äî 1.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q3" value="1.5" required>
                            <span>–ó–ª–æ—Å—Ç—å, —á—Ç–æ —ç—Ç–æ –º–∞–ª–æ –∏ –Ω–µ —Ç–æ <span class="tone-score">(–ì–Ω–µ–≤ ‚Äî 1.5)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q3" value="0.5" required>
                            <span>–ß—Ç–æ —ç—Ç–æ –≤—Å—ë –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω–æ <span class="tone-score">(–ê–ø–∞—Ç–∏—è ‚Äî 0.5)</span></span>
                        </label>
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="question-block">
                    <h3>4. –ö–∞–∫ –≤—ã –æ–±—ã—á–Ω–æ –æ–±—â–∞–µ—Ç–µ—Å—å —Å –¥—Ä—É–≥–∏–º–∏ –ª—é–¥—å–º–∏?</h3>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="q4" value="4.0" required>
                            <span>–° —ç–Ω—Ç—É–∑–∏–∞–∑–º–æ–º, –º–Ω–æ–≥–æ —à—É—á—É, –∞–∫—Ç–∏–≤–µ–Ω <span class="tone-score">(4.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q4" value="3.0" required>
                            <span>–î—Ä—É–∂–µ–ª—é–±–Ω–æ, —Å–ø–æ–∫–æ–π–Ω–æ, –ø–æ –¥–µ–ª—É <span class="tone-score">(3.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q4" value="2.0" required>
                            <span>–û—Å—Ç–æ—Ä–æ–∂–Ω–æ, –Ω–µ —Å—Ä–∞–∑—É —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Å—å <span class="tone-score">(2.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q4" value="1.3" required>
                            <span>–ß–∞—Å—Ç–æ —Ä–∞–∑–¥—Ä–∞–∂—ë–Ω –∏–ª–∏ –∑–∞–º–∫–Ω—É—Ç <span class="tone-score">(1.3)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q4" value="0.5" required>
                            <span>–ù–µ —Ö–æ—á—É –Ω–∏ —Å –∫–µ–º –≥–æ–≤–æ—Ä–∏—Ç—å <span class="tone-score">(0.5)</span></span>
                        </label>
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="question-block">
                    <h3>5. –ö–∞–∫ –≤—ã —Å–µ–±—è –≤–µ–¥—ë—Ç–µ, –∫–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –∏–¥—ë—Ç –Ω–µ –ø–æ –ø–ª–∞–Ω—É?</h3>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="q5" value="3.8" required>
                            <span>–ë—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–∂—É —Ä–µ—à–µ–Ω–∏–µ <span class="tone-score">(3.8)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q5" value="3.0" required>
                            <span>–°–æ—Ö—Ä–∞–Ω—è—é —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ, –∏—â—É –≤–∞—Ä–∏–∞–Ω—Ç—ã <span class="tone-score">(3.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q5" value="1.5" required>
                            <span>–í–ø–∞–¥–∞—é –≤ —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ <span class="tone-score">(1.5)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q5" value="1.0" required>
                            <span>–ù–∞—á–∏–Ω–∞—é –Ω–µ—Ä–≤–Ω–∏—á–∞—Ç—å –∏ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å <span class="tone-score">(1.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q5" value="0.5" required>
                            <span>–û–ø—É—Å–∫–∞—é —Ä—É–∫–∏ <span class="tone-score">(0.5)</span></span>
                        </label>
                    </div>
                </div>

                <!-- Question 6 -->
                <div class="question-block">
                    <h3>6. –ö–∞–∫–∏–µ —á—É–≤—Å—Ç–≤–∞ —É –≤–∞—Å –≤—ã–∑—ã–≤–∞–µ—Ç —á—É–∂–æ–π —É—Å–ø–µ—Ö?</h3>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="q6" value="3.8" required>
                            <span>–†–∞–¥–æ—Å—Ç—å –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ <span class="tone-score">(3.8)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q6" value="3.0" required>
                            <span>–£–≤–∞–∂–µ–Ω–∏–µ, –º–æ—Ç–∏–≤–∞—Ü–∏—è <span class="tone-score">(3.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q6" value="1.5" required>
                            <span>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ –æ–±–∏–¥–∞ <span class="tone-score">(1.5)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q6" value="1.5" required>
                            <span>–ó–ª–æ—Å—Ç—å –∏–ª–∏ –∑–∞–≤–∏—Å—Ç—å <span class="tone-score">(1.5)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q6" value="0.5" required>
                            <span>"–ò —á—Ç–æ —Å —Ç–æ–≥–æ?" ‚Äî –±–µ–∑—ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ <span class="tone-score">(0.5)</span></span>
                        </label>
                    </div>
                </div>

                <!-- Question 7 -->
                <div class="question-block">
                    <h3>7. –ö–æ–≥–¥–∞ –≤–∞—Å –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç, –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ...</h3>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="q7" value="3.3" required>
                            <span>–í—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ, —É –∫–∞–∂–¥–æ–≥–æ —Å–≤–æ–∏ –¥–µ–ª–∞ <span class="tone-score">(3.3)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q7" value="2.5" required>
                            <span>–ù–µ–º–Ω–æ–≥–æ –Ω–µ—É–¥–æ–±–Ω–æ, –Ω–æ –æ–∫–µ–π <span class="tone-score">(2.5)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q7" value="1.5" required>
                            <span>–†–µ–∑–∫–æ–µ —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ <span class="tone-score">(1.5)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q7" value="1.1" required>
                            <span>–ü–æ–¥–æ–∑—Ä–µ–Ω–∏—è –∏ –Ω–µ–¥–æ–≤–µ—Ä–∏–µ <span class="tone-score">(1.1)</span></label>
                        </label>
                        <label>
                            <input type="radio" name="q7" value="0.8" required>
                            <span>–ë–æ–ª—å –∏ –∂–µ–ª–∞–Ω–∏–µ —É–π—Ç–∏ <span class="tone-score">(0.8)</span></span>
                        </label>
                    </div>
                </div>

                <!-- Question 8 -->
                <div class="question-block">
                    <h3>8. –ß—Ç–æ –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –ø–æ —É—Ç—Ä–∞–º –≤ –Ω–∞—á–∞–ª–µ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è?</h3>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="q8" value="4.0" required>
                            <span>–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∏ –∑–∞—Ä—è–¥ <span class="tone-score">(4.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q8" value="3.0" required>
                            <span>–ù–æ—Ä–º–∞–ª—å–Ω–æ–µ —Ä–∞–±–æ—á–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ <span class="tone-score">(3.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q8" value="2.0" required>
                            <span>–í—è–ª–æ—Å—Ç—å, –Ω–æ –≤—Ç—è–≥–∏–≤–∞—é—Å—å <span class="tone-score">(2.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q8" value="1.0" required>
                            <span>–ù–µ —Ö–æ—á—É –≤—Å—Ç–∞–≤–∞—Ç—å, —Ç—Ä–µ–≤–æ–∂–Ω–æ <span class="tone-score">(1.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q8" value="0.5" required>
                            <span>–°–æ—Å—Ç–æ—è–Ω–∏–µ "–Ω–µ—Ç —Å–∏–ª" <span class="tone-score">(0.5)</span></span>
                        </label>
                    </div>
                </div>

                <!-- Question 9 -->
                <div class="question-block">
                    <h3>9. –ö–∞–∫ –≤—ã –æ–±—ã—á–Ω–æ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç–µ –Ω–∞ –æ—à–∏–±–∫–∏ –¥—Ä—É–≥–∏—Ö?</h3>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="q9" value="3.3" required>
                            <span>–ü–æ–º–æ–≥–∞—é –∏—Å–ø—Ä–∞–≤–∏—Ç—å, –Ω–µ –¥–∞–≤–ª—é <span class="tone-score">(3.3)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q9" value="2.5" required>
                            <span>–£–∫–∞–∑—ã–≤–∞—é –Ω–∞ –æ—à–∏–±–∫—É, –Ω–æ —Å–ø–æ–∫–æ–π–Ω–æ <span class="tone-score">(2.5)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q9" value="1.5" required>
                            <span>–†–∞–∑–¥—Ä–∞–∂–∞—é—Å—å, –º–æ–≥—É –ø–æ–≤—ã—Å–∏—Ç—å –≥–æ–ª–æ—Å <span class="tone-score">(1.5)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q9" value="1.1" required>
                            <span>–î—É–º–∞—é, —á—Ç–æ –≤—Å–µ —Ç—É–ø—ã–µ <span class="tone-score">(1.1)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q9" value="0.5" required>
                            <span>–¢–µ—Ä–ø–ª—é –≤ –º–æ–ª—á–∞–Ω–∏–∏, –Ω–æ —Å –æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ–º <span class="tone-score">(0.5)</span></span>
                        </label>
                    </div>
                </div>

                <!-- Question 10 -->
                <div class="question-block">
                    <h3>10. –ö–æ–≥–¥–∞ –≤—ã —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç–µ—Å—å —Å –Ω–æ–≤—ã–º–∏ –ª—é–¥—å–º–∏, –≤—ã...</h3>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="q10" value="4.0" required>
                            <span>–õ–µ–≥–∫–æ –∏ —Ä–∞–¥–æ—Å—Ç–Ω–æ –∑–Ω–∞–∫–æ–º–ª—é—Å—å <span class="tone-score">(4.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q10" value="3.0" required>
                            <span>–°–ø–æ–∫–æ–π–Ω–æ, –±–µ–∑ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è <span class="tone-score">(3.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q10" value="2.0" required>
                            <span>–° –æ–ø–∞—Å–∫–æ–π, –≤ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–∏ <span class="tone-score">(2.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q10" value="1.0" required>
                            <span>–ò–∑–±–µ–≥–∞—é –∫–æ–Ω—Ç–∞–∫—Ç–∞ <span class="tone-score">(1.0)</span></span>
                        </label>
                        <label>
                            <input type="radio" name="q10" value="0.5" required>
                            <span>–•–æ—á—É –ø–æ–±—ã—Å—Ç—Ä–µ–µ —É–π—Ç–∏ <span class="tone-score">(0.5)</span></span>
                        </label>
                    </div>
                </div>

                <button type="submit" id="submitBtn" class="submit-btn">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</button>
            </form>

            <div id="loading" class="loading">
                <h3>‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤...</h3>
                <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ, –º—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤–∞—à–∏ –æ—Ç–≤–µ—Ç—ã</p>
            </div>

            <div id="successMessage" class="success-message">
                <h3>‚úÖ –¢–µ—Å—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω!</h3>
                <p>–í–∞—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ HR –æ—Ç–¥–µ–ª. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.</p>
            </div>

            <div id="errorMessage" class="error-message">
                <h3>‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ</h3>
                <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é</p>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('hubbardForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const name = formData.get('name');
            const telegram = formData.get('telegram');
            
            // –°–æ–±–∏—Ä–∞–µ–º –æ—Ç–≤–µ—Ç—ã
            const answers = {};
            for (let i = 1; i <= 10; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                if (selected) {
                    answers[`q${i}`] = parseFloat(selected.value);
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –æ—Ç–≤–µ—á–µ–Ω—ã
            if (Object.keys(answers).length !== 10) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã');
                return;
            }
            
            // –í—ã—á–∏—Å–ª—è–µ–º –æ–±—â–∏–π –±–∞–ª–ª
            const totalScore = Object.values(answers).reduce((sum, score) => sum + score, 0);
            const averageTone = totalScore / 10;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é
            let level, description, recommendation;
            
            if (averageTone >= 3.0) {
                level = "–ñ–∏–≤–æ–π —Ç–æ–Ω";
                description = "–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã–π, —ç–Ω–µ—Ä–≥–∏—á–Ω—ã–π, –∞–¥–µ–∫–≤–∞—Ç–Ω—ã–π";
                recommendation = "–û—Ç–ª–∏—á–Ω—ã–π –∫–∞–Ω–¥–∏–¥–∞—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã";
            } else if (averageTone >= 2.0) {
                level = "–°—Ç–∞–±–∏–ª—å–Ω—ã–π";
                description = "–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª –µ—Å—Ç—å, –º–æ–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å";
                recommendation = "–•–æ—Ä–æ—à–∏–π –∫–∞–Ω–¥–∏–¥–∞—Ç —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º";
            } else if (averageTone >= 0) {
                level = "–ü–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–π";
                description = "–¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏";
                recommendation = "–ù—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞";
            } else {
                level = "–ù–∏–∑–∫–∏–π —Ç–æ–Ω";
                description = "–†–µ–∞–∫—Ç–∏–≤–Ω—ã–π, –∏—Å—Ç–æ—á–Ω–∏–∫ —Ö–∞–æ—Å–∞";
                recommendation = "–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫ –Ω–∞–π–º—É";
            }
            
            const analysis = {
                level,
                description,
                recommendation,
                averageTone: averageTone.toFixed(1),
                totalScore: totalScore.toFixed(1)
            };
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('loading').style.display = 'block';
            
            try {
                const response = await fetch('/api/submit-hubbard', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        name,
                        telegram,
                        score: totalScore,
                        averageTone,
                        analysis
                    })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
                    const progress = JSON.parse(localStorage.getItem('testProgress') || '{}');
                    progress.test2Completed = true;
                    localStorage.setItem('testProgress', JSON.stringify(progress));
                    
                    document.getElementById('loading').style.display = 'none';
                    document.getElementById('successMessage').style.display = 'block';
                    document.getElementById('hubbardForm').style.display = 'none';
                } else {
                    throw new Error(result.error || '–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞');
                }
                
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('loading').style.display = 'none';
                document.getElementById('errorMessage').style.display = 'block';
                document.getElementById('submitBtn').disabled = false;
            }
        });
    </script>
    
    <!-- –û—Ç–º–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è -->
    <div id="update-timestamp" class="update-timestamp"></div>
    
    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            const isLoggedIn = localStorage.getItem('isLoggedIn');
            const candidateData = localStorage.getItem('candidateData');
            
            console.log('Test page loaded, checking auth:');
            console.log('isLoggedIn:', isLoggedIn);
            console.log('candidateData:', candidateData);
            
            // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é
            if (isLoggedIn !== 'true' || !candidateData || candidateData.trim() === '') {
                console.log('User not logged in, redirecting to main page');
                localStorage.clear();
                sessionStorage.clear();
                window.location.href = '/';
                return;
            }
            
            try {
                const userData = JSON.parse(candidateData);
                if (!userData.fullName || !userData.telegram || !userData.role) {
                    console.log('Incomplete user data, redirecting to main page');
                    localStorage.clear();
                    sessionStorage.clear();
                    window.location.href = '/';
                    return;
                }
                console.log('User is authorized:', userData.fullName);
            } catch (error) {
                console.error('Error parsing user data:', error);
                localStorage.clear();
                sessionStorage.clear();
                window.location.href = '/';
                return;
            }
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ç–º–µ—Ç–∫—É –≤—Ä–µ–º–µ–Ω–∏
            const timestampElement = document.getElementById('update-timestamp');
            if (timestampElement) {
                // –°—Ç–∞—Ç–∏—á–Ω–∞—è –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
                timestampElement.textContent = `–û–±–Ω–æ–≤–ª–µ–Ω–æ: 26.09.2025, 04:13:42`;
            }
        });
    </script>
</body>
</html>
